<link rel="import" href="../../bower_components/polymer/polymer-element.html">

<link rel="import" href="../../bower_components/iron-resizable-behavior/iron-resizable-behavior.html">

<link rel="import" href="../../bower_components/firebase-element/firebase-query.html">

<dom-module id="hardware-widget">
  <template strip-whitespace>
    <style>
      :host {
        display: block;
        color: var(--paper-blue-grey-700);
      }

      table {
        width: 100%;
      }

      td {
        padding: 0.5em;
      }

      th {
        text-align: left;
      }

      tr:nth-child(odd) td {
        background-color: var(--paper-grey-100);
      }

      tr:nth-child(even) td {
        background-color: var(--paper-grey-200);
      }
    </style>

    <firebase-query 
      app-name="smart-sensor-app" 
      path="/esp" 
      data="{{data}}" 
      on-data-changed="__render">
    </firebase-query>

    <table>
      <tr>
        <th>Parameter</th>
        <th>Value</th>
      </tr>
      <template is="dom-repeat" items="{{data}}">
        <tr>
          <td>{{item.$key}}</td>
          <td>{{item.$val}}</td>
        </tr>
      </template>
    </table>
  </template>

  <script>
    class HardwareWidget extends Polymer.mixinBehaviors([Polymer.IronResizableBehavior], Polymer.Element) {

      static get is() { return 'hardware-widget'; }

      static get properties() {
        return {
          data: {
            type: Object,
            notify: true
          }
        };
      }
    }
    window.customElements.define(HardwareWidget.is, HardwareWidget);
  </script>
</dom-module>